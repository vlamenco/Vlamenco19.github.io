<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book | Vlamenco's Blog</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#FF6B8B',
                        secondary: '#6B9FFF',
                        accent: '#FFD166',
                        mint: '#66D2A0',
                        lavender: '#B794F4',
                        dark: '#333333',
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .hover-lift {
                transition: transform 0.3s ease, box-shadow 0.3s ease;
            }
            .hover-lift:hover {
                transform: translateY(-5px);
                box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            }
            .tag-pill {
                @apply px-3 py-1 rounded-full text-sm cursor-pointer transition-colors;
            }
            .tag-pill-active {
                @apply bg-primary text-white;
            }
            .tag-pill-inactive {
                @apply bg-gray-100 text-gray-700 hover:bg-gray-200;
            }
        }
    </style>
</head>
<body class="bg-gray-50 font-sans text-dark">
    <!-- 移动端菜单按钮 -->
    <button id="mobile-menu-button" class="fixed top-4 left-4 z-50 md:hidden bg-white rounded-full p-2 shadow-lg">
        <i class="fa fa-bars text-xl"></i>
    </button>

    <!-- 侧边导航 -->
    <aside id="sidebar" class="fixed top-0 left-0 h-full w-64 bg-white shadow-xl transform -translate-x-full md:translate-x-0 transition-transform duration-300 ease-in-out z-40">
        <div class="p-6">
            <div class="flex justify-end md:hidden">
                <button id="close-menu" class="text-gray-500 hover:text-gray-700">
                    <i class="fa fa-times text-xl"></i>
                </button>
            </div>
            <nav class="mt-8">
                <ul class="space-y-1">
                    <li>
                        <a href="index.html" class="flex items-center p-3 rounded-lg hover:bg-gray-100 transition-colors">
                            <i class="fa fa-home w-6"></i>
                            <span>Home</span>
                        </a>
                    </li>
                    <li>
                        <a href="book.html" class="flex items-center p-3 rounded-lg bg-primary/10 text-primary font-medium">
                            <i class="fa fa-book w-6"></i>
                            <span>Book</span>
                        </a>
                    </li>
                    <li>
                        <a href="photo.html" class="flex items-center p-3 rounded-lg hover:bg-gray-100 transition-colors">
                            <i class="fa fa-camera w-6"></i>
                            <span>Photo</span>
                        </a>
                    </li>
                    <li>
                        <a href="music.html" class="flex items-center p-3 rounded-lg hover:bg-gray-100 transition-colors">
                            <i class="fa fa-music w-6"></i>
                            <span>Music</span>
                        </a>
                    </li>
                    <li>
                        <a href="movie.html" class="flex items-center p-3 rounded-lg hover:bg-gray-100 transition-colors">
                            <i class="fa fa-film w-6"></i>
                            <span>Movie</span>
                        </a>
                    </li>
                    <li>
                        <a href="voyage.html" class="flex items-center p-3 rounded-lg hover:bg-gray-100 transition-colors">
                            <i class="fa fa-plane w-6"></i>
                            <span>Voyage</span>
                        </a>
                    </li>
                    <li>
                        <a href="english.html" class="flex items-center p-3 rounded-lg hover:bg-gray-100 transition-colors">
                            <i class="fa fa-language w-6"></i>
                            <span>English</span>
                        </a>
                    </li>
                    <li>
                        <a href="francaise.html" class="flex items-center p-3 rounded-lg hover:bg-gray-100 transition-colors">
                            <i class="fa fa-language w-6"></i>
                            <span>Française</span>
                        </a>
                    </li>
                    <li>
                        <a href="arabic.html" class="flex items-center p-3 rounded-lg hover:bg-gray-100 transition-colors">
                            <i class="fa fa-language w-6"></i>
                            <span>اللغة العربية</span>
                        </a>
                    </li>
                    <li>
                        <a href="macrame.html" class="flex items-center p-3 rounded-lg hover:bg-gray-100 transition-colors">
                            <i class="fa fa-paint-brush w-6"></i>
                            <span>Macrame</span>
                        </a>
                    </li>
                    <li>
                        <a href="daily.html" class="flex items-center p-3 rounded-lg hover:bg-gray-100 transition-colors">
                            <i class="fa fa-calendar w-6"></i>
                            <span>Daily</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </aside>

    <!-- 主内容区 -->
    <main class="md:ml-64 transition-all duration-300 min-h-screen">
        <!-- 分类头部 -->
        <header class="bg-primary py-16 px-6 text-white">
            <div class="max-w-6xl mx-auto">
                <h1 class="text-4xl font-bold mb-2 flex items-center">
                    <i class="fa fa-book mr-3"></i> Book
                </h1>
                <p class="text-lg opacity-90">deep thinking</p>
            </div>
        </header>

        <!-- 内容区 -->
        <section class="py-12 px-6">
            <div class="max-w-6xl mx-auto">
                <div class="flex flex-col lg:flex-row gap-8">
                    <!-- 文章列表 -->
                    <div class="lg:w-2/3">
                        <!-- 标签筛选
                        <div class="flex flex-wrap gap-2 mb-8">
                            <span class="tag-pill tag-pill-active">全部 (8)</span>
                            <span class="tag-pill tag-pill-inactive">小说 (3)</span>
                            <span class="tag-pill tag-pill-inactive">散文 (2)</span>
                            <span class="tag-pill tag-pill-inactive">科普 (2)</span>
                            <span class="tag-pill tag-pill-inactive">历史 (1)</span>
                        </div> -->

                        <!-- 文章列表 -->
                        <div class="space-y-8">
                            <article class="bg-white rounded-xl overflow-hidden shadow-md hover-lift">
                                <div class="md:flex">
                                    <div class="md:w-1/3">
                                        <img src="assets/images/books/book1.jpg" alt="《夏日终曲》书籍封面" class="w-full h-full object-cover">
                                    </div>
                                    <div class="md:w-2/3 p-6">
                                        <div class="flex items-center text-sm text-gray-500 mb-2">
                                            <span class="bg-primary/10 text-primary px-2 py-1 rounded text-xs">小说</span>
                                            <span class="ml-auto">2023-06-15</span>
                                        </div>
                                        <h3 class="text-xl font-bold mb-2"><a href="article.html?category=book&post=1">《夏日终曲》：关于爱与青春的回忆</a></h3>
                                        <p class="text-gray-600 mb-4">这是一本让人沉浸其中的小说，讲述了一个夏日里的青涩爱恋故事。作者的笔触细腻而温暖，仿佛能让人感受到地中海的阳光和微风...</p>
                                        <a href="article.html?category=book&post=1" class="text-primary font-medium hover:underline">阅读更多 →</a>
                                    </div>
                                </div>
                            </article>

                            <article class="bg-white rounded-xl overflow-hidden shadow-md hover-lift">
                                <div class="md:flex">
                                    <div class="md:w-1/3">
                                        <img src="assets/images/books/book2.jpg" alt="《人类简史》书籍封面" class="w-full h-full object-cover">
                                    </div>
                                    <div class="md:w-2/3 p-6">
                                        <div class="flex items-center text-sm text-gray-500 mb-2">
                                            <span class="bg-primary/10 text-primary px-2 py-1 rounded text-xs">科普</span>
                                            <span class="ml-auto">2023-05-28</span>
                                        </div>
                                        <h3 class="text-xl font-bold mb-2"><a href="article.html?category=book&post=2">《人类简史》：重新审视我们的历史</a></h3>
                                        <p class="text-gray-600 mb-4">这本书从认知革命、农业革命到科学革命，讲述了人类如何从一个普通的非洲灵长类动物演变成地球的主宰。观点新颖，引人深思...</p>
                                        <a href="article.html?category=book&post=2" class="text-primary font-medium hover:underline">阅读更多 →</a>
                                    </div>
                                </div>
                            </article>

                            <article class="bg-white rounded-xl overflow-hidden shadow-md hover-lift">
                                <div class="md:flex">
                                    <div class="md:w-1/3">
                                        <img src="assets/images/books/book3.jpg" alt="《汪曾祺散文》书籍封面" class="w-full h-full object-cover">
                                    </div>
                                    <div class="md:w-2/3 p-6">
                                        <div class="flex items-center text-sm text-gray-500 mb-2">
                                            <span class="bg-primary/10 text-primary px-2 py-1 rounded text-xs">散文</span>
                                            <span class="ml-auto">2023-05-10</span>
                                        </div>
                                        <h3 class="text-xl font-bold mb-2"><a href="article.html?category=book&post=3">汪曾祺散文：生活是很好玩的</a></h3>
                                        <p class="text-gray-600 mb-4">汪曾祺的文字总是那么平淡中见真味，无论是描写食物、草木还是人情世故，都透着一股从容和热爱。读他的散文，让人觉得生活真的很美好...</p>
                                        <a href="article.html?category=book&post=3" class="text-primary font-medium hover:underline">阅读更多 →</a>
                                    </div>
                                </div>
                            </article>

                            <article class="bg-white rounded-xl overflow-hidden shadow-md hover-lift">
                                    <div class="p-6">
                                        <div class="flex items-center text-sm text-gray-500 mb-2">
                                            <span class="bg-primary/10 text-primary px-2 py-1 rounded text-xs">散文</span>
                                            <span class="ml-auto">2023-05-10</span>
                                        </div>
                                        <h3 class="text-xl font-bold mb-2"><a href="article.html?category=book&post=3">汪曾祺散文：生活是很好玩的</a></h3>
                                        <a href="article.html?category=book&post=3" class="text-primary font-medium hover:underline">阅读更多 →</a>
                                    </div>
                            </article>

                        </div>

                        <!-- 分页 -->
                        <div class="mt-10 flex justify-center">
                            <nav class="inline-flex rounded-md shadow">
                                <a href="#" class="relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50">
                                    <i class="fa fa-chevron-left"></i>
                                </a>
                                <a href="#" class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-primary text-sm font-medium text-white">
                                    1
                                </a>
                                <a href="#" class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50">
                                    2
                                </a>
                                <a href="#" class="relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50">
                                    <i class="fa fa-chevron-right"></i>
                                </a>
                            </nav>
                        </div>
                    </div>

                    <!-- 侧边栏 -->

                    <div class="lg:w-1/3">
                        <!-- 搜索框 -->
                        <div class="bg-white p-6 rounded-xl-xl shadow-md mb-8">
                            <h3 class="text-lg font-bold mb-4">搜索文章</h3>
                            <div class="flex">
                                <input type="text" id="search-input" placeholder="输入关键词..." 
                                    class="flex-1 px-4 py-2 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-primary">
                                <button id="search-button" class="bg-primary text-white px-4 py-2 rounded-r-lg hover:bg-primary/90 transition-colors">
                                    <i class="fa fa-search"></i>
                                </button>
                            </div>
                            <!-- 搜索结果显示区域 -->
                            <div id="search-results" class="mt-4 space-y-3 max-h-96 overflow-y-auto">
                                <!-- 搜索结果将在这里动态显示 -->
                            </div>
                        </div>
                    </div>

                    <script>
                    // 存储所有文章数据
                    let allArticles = [];

                    // 初始化：加载所有book分类文章
                    document.addEventListener('DOMContentLoaded', function() {
                        // 这里需要手动列出book文件夹中的所有文章（因为浏览器不能直接读取文件夹内容）
                        const bookArticles = [
                            { file: 'book1.md', title: '文章标题1', date: '2023-05-01', category: '散文' },
                            { file: 'book2.md', title: '文章标题2', date: '2023-05-05', category: '小说' },
                            { file: 'book3.md', title: '汪曾祺散文：生活是很好玩的', date: '2023-05-10', category: '散文' },
                            // 添加更多文章...
                        ];

                        // 预加载所有文章内容
                        loadAllArticles(bookArticles);

                        // 绑定搜索事件
                        document.getElementById('search-button').addEventListener('click', performSearch);
                        document.getElementById('search-input').addEventListener('keypress', function(e) {
                            if (e.key === 'Enter') performSearch();
                        });
                    });

                    // 加载所有文章内容
                    function loadAllArticles(articles) {
                        articles.forEach(article => {
                            fetch(`content/book/${article.file}`)
                                .then(response => {
                                    if (!response.ok) throw new Error('文章加载失败');
                                    return response.text();
                                })
                                .then(content => {
                                    // 存储完整文章数据
                                    allArticles.push({
                                        ...article,
                                        content: content.toLowerCase(), // 转为小写方便搜索
                                        url: `article.html?category=book&post=${article.file.split('.')[0]}`
                                    });
                                })
                                .catch(error => console.error('加载文章失败:', error));
                        });
                    }

                    // 执行搜索
                    function performSearch() {
                        const searchInput = document.getElementById('search-input');
                        const searchTerm = searchInput.value.trim().toLowerCase();
                        const resultsContainer = document.getElementById('search-results');
                        
                        // 清空之前的结果
                        resultsContainer.innerHTML = '';

                        // 搜索为空时不显示结果
                        if (!searchTerm) return;

                        // 匹配包含关键词的文章
                        const matchedArticles = allArticles.filter(article => 
                            article.title.toLowerCase().includes(searchTerm) || 
                            article.content.includes(searchTerm) ||
                            article.category.toLowerCase().includes(searchTerm)
                        );

                        // 显示搜索结果
                        if (matchedArticles.length > 0) {
                            matchedArticles.forEach(article => {
                                const resultItem = document.createElement('div');
                                resultItem.className = 'p-3 border-b border-gray-100 last:border-0';
                                resultItem.innerHTML = `
                                    <h4 class="font-medium">
                                        <a href="${article.url}" class="hover:text-primary transition-colors">${highlightMatch(article.title, searchTerm)}</a>
                                    </h4>
                                    <div class="flex items-center text-sm text-gray-500 mt-1">
                                        <span class="bg-primary/10 text-primary px-2 py-0.5 rounded text-xs">${article.category}</span>
                                        <span class="ml-auto">${article.date}</span>
                                    </div>
                                    <p class="text-sm text-gray-600 mt-2">${getPreviewText(article.content, searchTerm)}</p>
                                `;
                                resultsContainer.appendChild(resultItem);
                            });
                        } else {
                            // 没有匹配结果
                            resultsContainer.innerHTML = `
                                <div class="text-center py-4 text-gray-500">
                                    <i class="fa fa-search-minus mb-2"></i>
                                    <p>没有找到包含"${searchTerm}"的文章</p>
                                </div>
                            `;
                        }
                    }

                    // 高亮显示匹配的关键词
                    function highlightMatch(text, term) {
                        if (!term) return text;
                        const regex = new RegExp(`(${term})`, 'gi');
                        return text.replace(regex, '<span class="bg-yellow-200">$1</span>');
                    }

                    // 获取包含关键词的预览文本
                    function getPreviewText(content, term) {
                        const plainText = content.replace(/#|##|###|\*|_/g, ''); // 移除Markdown格式
                        const termIndex = plainText.indexOf(term);
                        
                        if (termIndex === -1) {
                            // 没有关键词时显示开头部分
                            return plainText.length > 100 ? plainText.substring(0, 100) + '...' : plainText;
                        } else {
                            // 显示关键词前后的内容
                            const start = Math.max(0, termIndex - 50);
                            const end = Math.min(plainText.length, termIndex + 50);
                            return (start > 0 ? '...' : '') + 
                                plainText.substring(start, end) + 
                                (end < plainText.length ? '...' : '');
                        }
                    }
                    </script>

                    <!--   <div class="lg:w-1/3">
                         < #搜索框  >
                        <div class="bg-white p-6 rounded-xl shadow-md mb-8">
                            <h3 class="text-lg font-bold mb-4">搜索文章</h3>
                            <div class="flex">
                                <input type="text" placeholder="输入关键词..." class="flex-1 px-4 py-2 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-primary">
                                <button class="bg-primary text-white px-4 py-2 rounded-r-lg hover:bg-primary/90 transition-colors">
                                    <i class="fa fa-search"></i>
                                </button>
                            </div>
                        </div>
                    -->

                        <!-- 标签云 -->
                        <div class="bg-white p-6 rounded-xl shadow-md mb-8">
                            <h3 class="text-lg font-bold mb-4">标签</h3>
                            <div class="flex flex-wrap gap-2">
                                <a href="#" class="px-3 py-1 bg-gray-100 rounded-full text-sm hover:bg-primary hover:text-white transition-colors">小说 (3)</a>
                                <a href="#" class="px-3 py-1 bg-gray-100 rounded-full text-sm hover:bg-primary hover:text-white transition-colors">散文 (2)</a>
                                <a href="#" class="px-3 py-1 bg-gray-100 rounded-full text-sm hover:bg-primary hover:text-white transition-colors">科普 (2)</a>
                                <a href="#" class="px-3 py-1 bg-gray-100 rounded-full text-sm hover:bg-primary hover:text-white transition-colors">历史 (1)</a>
                                <a href="#" class="px-3 py-1 bg-gray-100 rounded-full text-sm hover:bg-primary hover:text-white transition-colors">哲学 (1)</a>
                                <a href="#" class="px-3 py-1 bg-gray-100 rounded-full text-sm hover:bg-primary hover:text-white transition-colors">传记 (1)</a>
                            </div>
                        </div>

                        <!-- 推荐阅读 -->
                        <div class="bg-white p-6 rounded-xl shadow-md">
                            <h3 class="text-lg font-bold mb-4">Recommend reading</h3>
                            <div class="space-y-4">
                                <a href="#" class="flex gap-3 group">
                                    <img src="assets/images/books/sidebar1.jpg" alt="《局外人》书籍封面" class="w-20 h-20 object-cover rounded">
                                    <div>
                                        <h4 class="font-medium group-hover:text-primary transition-colors">《局外人》：荒诞世界的清醒者</h4>
                                        <p class="text-sm text-gray-500 mt-1">2023-04-18</p>
                                    </div>
                                </a>
                                <a href="#" class="flex gap-3 group">
                                    <img src="assets/images/books/sidebar2.jpg" alt="《你当像鸟飞往你的山》书籍封面" class="w-20 h-20 object-cover rounded">
                                    <div>
                                        <h4 class="font-medium group-hover:text-primary transition-colors">《你当像鸟飞往你的山》：教育的力量</h4>
                                        <p class="text-sm text-gray-500 mt-1">2023-03-25</p>
                                    </div>
                                </a>
                                <a href="#" class="flex gap-3 group">
                                    <img src="assets/images/books/sidebar3.jpg" alt="《月亮与六便士》书籍封面" class="w-20 h-20 object-cover rounded">
                                    <div>
                                        <h4 class="font-medium group-hover:text-primary transition-colors">《月亮与六便士》：理想与现实</h4>
                                        <p class="text-sm text-gray-500 mt-1">2023-02-10</p>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 页脚 -->
        <footer class="bg-dark text-white py-12 px-6">
            <div class="max-w-6xl mx-auto">
                <div class="flex flex-col md:flex-row justify-between items-center">
                    <div class="mb-6 md:mb-0">
                        <h3 class="text-xl font-bold mb-2">Vlamenco's Venus Zoom</h3>
                        <p class="text-gray-400">@2047</p>
                    </div>
                        <p class="text-gray-400 text-sm">© 2025 Vlamenco's Venus Zoom. All rights reserved.</p>
                    </div>
                </div>
            </div>
        </footer>
    </main>

    <script src="assets/js/main.js"></script>
    <script src="assets/js/category.js"></script>
</body>
</html>
    